(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();let a=0;const y=[{fixedColors:["red","blue","green","yellow"],message:"¡Felicidades! Has completado el nivel 1. Pasas al nivel 2."},{fixedColors:["blue","green"],message:"¡Felicidades! Has completado el nivel 2. Pasas al nivel 3."},{fixedColors:["green"],message:"¡Felicidades! Has completado el nivel 3. ¡Reto Sudoku completado!"}],g=document.getElementById("board"),E=document.getElementById("colorPicker"),d=document.getElementById("elapsedTime");let u,s=0,f=!1;function i(){if(!g){console.error("El elemento con el id 'board' no se encontró en el DOM.");return}g.innerHTML="";for(let e=0;e<4;e++){const t=document.createElement("div");t.classList.add("row");for(let r=0;r<4;r++){const l=document.createElement("div");l.classList.add("cell"),l.dataset.row=e,l.dataset.col=r,l.addEventListener("click",()=>h(l)),t.appendChild(l)}g.appendChild(t)}b()}function b(){const e=y[a].fixedColors,t=document.getElementsByClassName("cell");for(let r=0;r<e.length;r++)t[r].style.backgroundColor=e[r],t[r].dataset.fixed="true"}function h(e){e.dataset.fixed!=="true"&&(e.style.backgroundColor=E.value,!f&&!L()&&(S(),f=!0),C()?w():x()&&c("Has perdido, vuelve a intentarlo.",!1))}function x(){const e=document.getElementsByClassName("cell");return Array.from(e).every(t=>t.style.backgroundColor)}function L(){const e=document.getElementsByClassName("cell");return Array.from(e).every(t=>!t.style.backgroundColor)}function C(){const e=document.getElementsByClassName("cell");if(Array.from(e).some(t=>!t.style.backgroundColor))return!1;for(let t=0;t<4;t++){const r=Array.from(e).filter(o=>o.dataset.row==t).map(o=>o.style.backgroundColor),l=Array.from(e).filter(o=>o.dataset.col==t).map(o=>o.style.backgroundColor);if(new Set(r).size!==4||new Set(l).size!==4)return!1}return!0}function c(e,t){alert(e),t?a===2?(alert("¡Reto Soduko completado! El juego se reiniciará"),f=!1,a=0,s=0,d.textContent=m(s),i()):(a++,i(),B()):(f=!1,s=0,d.textContent=m(s),i())}function w(){C()?(clearInterval(u),c(y[a].message,!0)):c("Has perdido, vuelve a intentarlo.",!1)}function S(){u=setInterval(v,1e3)}function v(){s++,d.textContent=m(s)}function B(){clearInterval(u),s=0,d.textContent=m(s),u=setInterval(v,1e3)}function m(e){const t=Math.floor(e/3600),r=Math.floor(e%3600/60),l=e%60;return`${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}:${String(l).padStart(2,"0")}`}document.addEventListener("DOMContentLoaded",()=>{i()});
